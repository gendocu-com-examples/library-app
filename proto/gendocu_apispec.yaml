spectype: gendocu
servers:
  - selector: "*" # the * must be wrapped with ""
    envs:
    - name: "gcp" # the first environment is the default one
      urls:
      - grpcwebs://library-app-grpcweb-uqnits2f5q-uc.a.run.app
      - grpcs://library-app-grpc-uqnits2f5q-uc.a.run.app:443
    - name: "aws" # aws lambda doesn't support the grpc out of the box
      urls:
      - grpcwebs://t30z1m0w81.execute-api.us-east-1.amazonaws.com
documentation:
  content:
    introduction:
      file: docs/introduction.md
    authentication:
      text: This API does not require any authentication, but we have added a redundant auth method - Token Auth for demo purposes. You can select it and use it, but the results would be the same as without it.

securitySchemes:
  - name: public
    title: Public API
    description: # you can also use the 'file:' instead of text to load a markdown from external file
      text: The default, public authentication. All the endpoints support anonymous users.
  - name: token-private
    title: Token Auth
    description:
      text: The standard token authentication. This authentication method is only for demo purpose - backend ignores the token in current implementation.
    callAuthentication:
      Token:
        grpc:
          meta: "x-authorization"
          valuePrefix: "bearer " # including whitespaces, the prefix for each value
          exampleValue: "aaa.bbbbbbb.ccc" # without the prefix
        grpcweb:
          header: "Authorization"
          valuePrefix: "Bearer " # including whitespaces, the prefix for each value
          exampleValue: "aaa.bbbbbbb.ccc"
